webpackJsonp([1],{"+BTi":function(e,a){},"/I4U":function(e,a){},"0Eq7":function(e,a){},"3EZj":function(e,a,t){"use strict";var n=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{attrs:{id:"app"}},[t("layout-sidebar",{attrs:{"starred-repos-len":e.starredRepos.length,"unlabeled-repos-len":e.unlabeledRepos.length,"custom-labels":e.customLabels,"language-labels":e.languageLabels,"current-label":e.currentLabel,"label-category-index":e.labelCategoryIndex},on:{toggleLabel:e.handleToggleLabel,saveNewLabel:e.handleSaveNewLabel,editLabels:e.handleEditLabels,deleteLabel:e.handleDeleteLabel,changeLabelName:e.handleChangeLabelName,completeEditLabels:e.handleCompleteEditLabels,toggleLabelCategory:e.handleToggleLabelCategory}}),e._v(" "),t("layout-main",{attrs:{user:e.user,repos:e.currentLabelRepos,"load-starred-repos-completed":e.loadStarredReposCompleted,"custom-labels":e.customLabels,"current-label":e.currentLabel},on:{toggleLabel:e.handleToggleLabel,addRepoLabel:e.handleAddRepoLabel,deleteRepoLabel:e.handleDeleteRepoLabel}})],1)},s=[],r={render:n,staticRenderFns:s};a.a=r},"6e7o":function(e,a){},"8dS6":function(e,a){e.exports=Sortable},"8z31":function(e,a){},CSqb:function(e,a){},GXEp:function(e,a){},HCTz:function(e,a,t){"use strict";a.a={name:"header",props:{user:{type:Object,default:{}}},data:function(){return{}}}},M93x:function(e,a,t){"use strict";function n(e){t("vp76"),t("j3Z2")}var s=t("xJD8"),r=t("3EZj"),i=t("VU/8"),l=n,o=i(s.a,r.a,!1,l,"data-v-6afd8c7a",null);a.a=o.exports},NHnr:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=t("mvHQ"),s=t.n(n),r=t("Xxa5"),i=t.n(r),l=t("exGp"),o=t.n(l),c=t("//Fk"),u=t.n(c),d=t("/I4U"),f=(t.n(d),t("yg6k")),p=t.n(f),b=t("tJtB"),h=(t.n(b),t("+vil")),m=t.n(h),v=t("8z31"),g=(t.n(v),t("SXzR")),_=t.n(g),L=t("GXEp"),C=(t.n(L),t("mtrD")),w=t.n(C),y=t("X+ky"),N=(t.n(y),t("HJMx")),x=t.n(N),R=t("wJKS"),k=(t.n(R),t("+BTi")),E=(t.n(k),t("orbS")),S=t.n(E),I=t("lRwf"),A=t.n(I),T=t("M93x"),D=t("rQBB"),$=t("n5Qe"),O=t("QmSG"),V=this;A.a.use(S.a),A.a.use(x.a),A.a.use(w.a),A.a.use(_.a),A.a.use(m.a),A.a.prototype.$notify=p.a,A.a.config.productionTip=!1;var B=O.a.clientId,F=O.a.clientSecret;new u.a(function(){var e=o()(i.a.mark(function e(a,t){var n,s,r,l,o,c,u,d;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=window.localStorage.getItem("gitstars_access_token"))){e.next=3;break}return e.abrupt("return",a(n));case 3:if(s=window.localStorage.getItem("gitstars_code"),r=Object(D.a)(),l=r.code,!(o=s||l)){e.next=17;break}return s||window.localStorage.setItem("gitstars_code",o),l&&(c=window.location.href.replace(/code=[^&]+/,""),"?"===c[c.length-1]&&(c=c.slice(0,-1)),window.history.replaceState({},null,""+c)),e.next=11,Object($.b)({code:o,client_id:B,client_secret:F});case 11:u=e.sent,d=u.access_token,window.localStorage.setItem("gitstars_access_token",d),a(d),e.next=18;break;case 17:window.location.href="https://github.com/login/oauth/authorize?client_id="+B+"&scope=gist";case 18:case"end":return e.stop()}},e,V)}));return function(a,t){return e.apply(this,arguments)}}()).then(function(){var e=o()(i.a.mark(function e(a){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(window._gitstars={accessToken:a},!(t=window.localStorage.getItem("gitstars_user"))){e.next=6;break}e.t0=JSON.parse(t),e.next=9;break;case 6:return e.next=8,Object($.h)();case 8:e.t0=e.sent;case 9:window._gitstars.user=e.t0,t||window.localStorage.setItem("gitstars_user",s()(window._gitstars.user)),new A.a({el:"#app",template:"<App/>",components:{App:T.a}});case 12:case"end":return e.stop()}},e,V)}));return function(a){return e.apply(this,arguments)}}())},NqeX:function(e,a,t){"use strict";function n(e){t("WLA+")}var s=t("OV3H"),r=t("P0zv"),i=t("VU/8"),l=n,o=i(s.a,r.a,!1,l,"data-v-d2014e48",null);a.a=o.exports},OMN4:function(e,a){e.exports=axios},OV3H:function(e,a,t){"use strict";a.a={name:"sub-sidebar",props:{repos:{type:Array,default:[]},loadStarredReposCompleted:{type:Boolean,default:!1},currentLabel:{type:Object,default:{}}},data:function(){return{activeRepoId:0,searchValue:""}},methods:{handleChangeSearchValue:function(){this.$emit("changeSearchValue",this.searchValue)},handleToggleRepo:function(e){var a=e.id;this.activeRepoId!==a&&(this.activeRepoId=a,this.$emit("toggleRepo",e))},handleToggleLabel:function(e){this.$emit("toggleLabel",{label:e,index:0})},handleDeleteLabel:function(){document.body.click()},handleConfirmDeleteLabel:function(e,a){this.$emit("deleteRepoLabel",{repoId:e,labelId:a}),document.body.click()},handleCancelDeleteLabel:function(){document.body.click()}}}},P0zv:function(e,a,t){"use strict";var n=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("nav",{attrs:{id:"subsidebar"}},[e.loadStarredReposCompleted?[t("label",{staticClass:"search-label"},[t("i",{staticClass:"fa fa-search",attrs:{"aria-hidden":"true"}}),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.searchValue,expression:"searchValue"}],staticClass:"search-input",attrs:{placeholder:"开发者 | 仓库名 @"+e.currentLabel.name,type:"text"},domProps:{value:e.searchValue},on:{input:[function(a){a.target.composing||(e.searchValue=a.target.value)},e.handleChangeSearchValue]}})]),e._v(" "),t("ul",{directives:[{name:"show",rawName:"v-show",value:e.repos.length,expression:"repos.length"}],staticClass:"repo-list"},e._l(e.repos,function(a){return t("li",{key:a.id,staticClass:"repo-item",class:{active:a.id===e.activeRepoId},on:{click:function(t){e.handleToggleRepo(a)}}},[t("header",[t("h3",{staticClass:"repo-title"},[t("a",{attrs:{href:a.html_url,target:"_blank"}},[e._v(e._s(a.owner.login)+" / "+e._s(a.name))]),e._v(" "),t("a",{directives:[{name:"show",rawName:"v-show",value:!!a.homepage,expression:"!!repo.homepage"}],attrs:{href:a.homepage,target:"_blank"}},[t("i",{staticClass:"fa fa-fw fa-lg fa-home",attrs:{"aria-hidden":"true"}})])])]),e._v(" "),t("p",{staticClass:"repo-desc"},[e._v(e._s(a.description))]),e._v(" "),t("ul",{staticClass:"label-list"},e._l(a._labels.custom,function(n){return t("li",{key:n.id,staticClass:"label-item",on:{click:function(a){a.stopPropagation(),e.handleToggleLabel(n)}}},[t("el-tag",{attrs:{size:"small",closable:""}},[e._v(e._s(n.name))]),e._v(" "),t("el-popover",{attrs:{placement:"right",title:"Are you sure?"}},[t("i",{staticClass:"el-tag__close el-icon-close label-delete-btn",attrs:{slot:"reference"},on:{click:function(a){a.stopPropagation(),e.handleDeleteLabel(a)}},slot:"reference"}),e._v(" "),t("footer",{staticClass:"popover-footer"},[t("el-button",{attrs:{size:"mini"},on:{click:e.handleCancelDeleteLabel}},[e._v("No")]),e._v(" "),t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){e.handleConfirmDeleteLabel(a.id,n.id)}}},[e._v("Yes")])],1)])],1)})),e._v(" "),t("footer",{staticClass:"repo-footer"},[t("span",{staticClass:"repo-star"},[t("i",{staticClass:"fa fa-star",attrs:{"aria-hidden":"true"}}),e._v(e._s(a.stargazers_count))]),e._v(" "),t("span",{staticClass:"repo-fork"},[t("i",{staticClass:"fa fa-code-fork",attrs:{"aria-hidden":"true"}}),e._v(e._s(a.forks_count))]),e._v(" "),t("span",{staticClass:"repo-language"},[e._v(e._s(a.language))])])])})),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:!e.repos.length,expression:"!repos.length"}],staticClass:"no-match vc-p"},[t("i",{staticClass:"fa fa-bell-o fa-3x",attrs:{"aria-hidden":"true"}}),e._v(" "),t("p",[e._v("没有匹配仓库")]),e._v(" "),e._m(0,!1,!1)])]:t("div",{staticClass:"loader vc-p"},[t("i",{staticClass:"fa fa-cog fa-spin fa-2x"}),e._v(" "),t("p",[e._v("正在获取 starred 仓库")])])],2)},s=[function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("p",[t("i",{staticClass:"fa fa-hand-o-left fa-lg",attrs:{"aria-hidden":"true"}}),e._v(" "),t("span",[e._v("切换标签")]),e._v(" "),t("span",[e._v("或")]),e._v(" "),t("span",[e._v("调整搜索")]),e._v(" "),t("i",{staticClass:"fa fa-hand-o-up fa-lg",attrs:{"aria-hidden":"true"}})])}],r={render:n,staticRenderFns:s};a.a=r},QmSG:function(e,a,t){"use strict";a.a={clientId:"75cf00b02deb33e63424",clientSecret:"6fa564cbd46f6bdfa1fb81ddce5503dcbe4ab4c4",filename:"gitstars.json",description:"github stars manager for production",norifyPosition:"bottom-right",starredReposPerPage:100}},Rtfp:function(e,a,t){"use strict";var n=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("main",{attrs:{id:"main"}},[t("layout-header",{attrs:{user:e.user}}),e._v(" "),t("div",{staticClass:"main-body"},[t("sub-sidebar",{attrs:{repos:e.currentRepos,"load-starred-repos-completed":e.loadStarredReposCompleted,"current-label":e.currentLabel},on:{changeSearchValue:e.handleChangeSearchValue,toggleRepo:e.handleToggleRepo,toggleLabel:e.handleToggleLabel,deleteRepoLabel:e.handleDeleteRepoLabel}}),e._v(" "),t("div",{staticClass:"content"},[t("section",{directives:[{name:"show",rawName:"v-show",value:e.repoReadme||e.isLoadingRepoReadme,expression:"repoReadme || isLoadingRepoReadme"}],staticClass:"repo-readme"},[t("header",{staticClass:"repo-readme__header"},[Object.keys(e.currentRepo).length?t("h3",{staticClass:"repo-title"},[t("a",{attrs:{href:e.currentRepo.html_url,target:"_blank"}},[t("i",{staticClass:"fa fa-fw fa-lg fa-github",attrs:{"aria-hidden":"true"}})]),e._v("\n            "+e._s(e.currentRepo.owner.login)+" / "+e._s(e.currentRepo.name)+"\n          ")]):e._e(),e._v(" "),t("el-autocomplete",{ref:"repoLabelNameInput",staticClass:"repo-label-input",attrs:{"fetch-suggestions":e.handleFetchLabelSuggestions,size:"small",placeholder:"新增标签","select-when-unmatched":""},on:{select:e.handleAddRepoLabel},model:{value:e.labelName,callback:function(a){e.labelName=a},expression:"labelName"}},[t("i",{staticClass:"fa fa-fw fa-lg fa-tag el-input__icon",attrs:{slot:"prefix"},slot:"prefix"}),e._v(" "),t("el-button",{attrs:{slot:"append"},on:{click:e.handleAddRepoLabel},slot:"append"},[e._v("添加")])],1)],1),e._v(" "),t("article",{staticClass:"markdown-body",domProps:{innerHTML:e._s(e.repoReadme)}})]),e._v(" "),t("section",{directives:[{name:"show",rawName:"v-show",value:!e.repoReadme,expression:"!repoReadme"}],staticClass:"waiting"},[t("h4",{staticClass:"readme"},[e._v("README.md")]),e._v(" "),t("p",{staticClass:"loader"},[t("i",{directives:[{name:"show",rawName:"v-show",value:e.isLoadingRepoReadme,expression:"isLoadingRepoReadme"}],staticClass:"fa fa-cog fa-spin fa-2x fa-fw"}),e._v(" "),e.isSelectedRepo?e._e():t("span",[t("i",{staticClass:"fa fa-hand-o-left fa-lg",attrs:{"aria-hidden":"true"}}),e._v(" "),t("span",[e._v("点击左侧 starred 仓库查看")])])])])])],1)],1)},s=[],r={render:n,staticRenderFns:s};a.a=r},Uhku:function(e,a,t){"use strict";var n=t("Xxa5"),s=t.n(n),r=t("exGp"),i=t.n(r),l=t("teIl"),o=t("NqeX"),c=t("n5Qe"),u=t("QmSG"),d=t("oiih"),f=u.a.norifyPosition,p=d.a.LABEL_NAME_CANNOT_ENPTY,b=d.a.LABEL_NAME_ALREADY_EXIST;a.a={name:"main",components:{LayoutHeader:l.a,SubSidebar:o.a},props:{user:{type:Object,default:{}},repos:{type:Array,default:[]},loadStarredReposCompleted:{type:Boolean,default:!1},customLabels:{type:Array,default:[]},currentLabel:{type:Object,default:{}}},data:function(){return{repoReadme:"",searchValue:"",labelName:"",currentRepo:{},isLoadingRepoReadme:!1,isSelectedRepo:!1}},computed:{currentRepos:function(){var e=this;return this.repos.filter(function(a){var t=a.owner,n=void 0===t?{}:t,s=a.name,r=void 0===s?"":s,i=n.login;return(void 0===i?"":i).toLowerCase().includes(e.searchValue)||r.toLowerCase().includes(e.searchValue)})},currentRepoUnlabeledLabels:function(){var e=this;return this.customLabels.filter(function(a){return!e.currentRepo._labels.custom.find(function(e){return e.id===a.id})}).map(function(e){return e.name})}},methods:{handleToggleRepo:function(e){var a=this,t=e.id,n=e.owner,r=e.name;return i()(s.a.mark(function e(){var i,l;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.currentRepo=a.repos.find(function(e){return e.id===t}),a.isSelectedRepo=!0,a.isLoadingRepoReadme=!0,a.repoReadme="",e.next=6,Object(c.e)(n.login,r);case 6:return i=e.sent,l=i.content,e.next=10,Object(c.d)(decodeURIComponent(escape(atob(l))));case 10:a.repoReadme=e.sent,a.isLoadingRepoReadme=!1;case 12:case"end":return e.stop()}},e,a)}))()},handleToggleLabel:function(e){this.$emit("toggleLabel",e)},handleChangeSearchValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.searchValue=e.toLowerCase()},handleDeleteRepoLabel:function(e){this.$emit("deleteRepoLabel",e)},handleFetchLabelSuggestions:function(e,a){e=e.toLowerCase(),a(this.currentRepoUnlabeledLabels.filter(function(a){return a.toLowerCase().includes(e)}).map(function(e){return{value:e}}))},handleAddRepoLabel:function(){var e="",a=this.labelName.trim();if(a||(e=p),this.currentRepo._labels.custom.find(function(e){return e.name===a})&&(e=b),e)return this.$notify.warning({message:e,showClose:!1,position:f});this.$emit("addRepoLabel",{id:this.currentRepo.id,name:a}),this.labelName=""}}}},W05C:function(e,a){},"WLA+":function(e,a){},"X+ky":function(e,a){},f3NK:function(e,a,t){"use strict";var n=t("BO1k"),s=t.n(n),r=t("d7EF"),i=t.n(r),l=t("mvHQ"),o=t.n(l),c=t("DAYN"),u=t.n(c),d=t("QmSG"),f=t("oiih"),p=!1,b=[],h=d.a.norifyPosition,m=f.a.LABEL_NAME_CANNOT_ENPTY,v=f.a.LABEL_NAME_ALREADY_EXIST,g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=JSON.parse(o()(e));return a.forEach(function(e,a){e._isEdit=!1,e._ref="labelNameEditInput"+e.id,e._preName=""}),a};a.a={name:"sidebar",components:{draggable:u.a},props:{starredReposLen:{type:Number,default:0},unlabeledReposLen:{type:Number,default:0},customLabels:{type:Array,default:[]},languageLabels:{type:Array,default:[]},currentLabel:{type:Object,default:{}},labelCategoryIndex:{type:Number,default:0}},data:function(){return{defaultLabels:[{id:0,name:"全部",icon:"fa-bars"},{id:-1,name:"未标签",icon:"fa-star-o"}],labelNameFormVisible:!1,labelName:"",labelNameInputState:"focus",labelNameBtnState:"cancel",isEditLabel:!1,dragLabels:g(this.customLabels),labelCategorys:["自定义","语言"]}},computed:{dragOptions:function(){return{disabled:!this.isEditLabel}},categoryLabelSliderStyle:function(){var e=100/this.labelCategorys.length;return{left:this.labelCategoryIndex*e+"%",width:e+"%"}}},watch:{customLabels:{deep:!0,handler:function(e){this.dragLabels=g(e)}}},created:function(){this.$emit("toggleLabel",{label:this.defaultLabels[0]})},destroyed:function(){b=[]},methods:{handleToggleLabel:function(e){this.isEditLabel||this.$emit("toggleLabel",{label:e})},handleAddNewLabel:function(){var e=this;this.isEditLabel||this.labelNameFormVisible||(this.labelNameFormVisible=!0,this.$nextTick(function(){return e.$refs.labelFormNameInput.focus()}))},handleInputLabelName:function(){this.labelNameBtnState=this.labelName.trim().length?"save":"cancel"},handleFocusLabelName:function(){this.labelNameInputState="focus"},handleBlurLabelName:function(){this.labelNameInputState="blur"},handleAddLabel:function(){var e="",a=this.labelName.trim();if(a||(e=m),this.customLabels.find(function(e){return e.name===a})&&(e=v),e)return this.$notify.warning({message:e,showClose:!1,position:h}),this.$refs.labelFormNameInput.focus();this.$emit("saveNewLabel",a),this.labelNameFormVisible=!1,this.labelNameBtnState="cancel",this.labelName=""},handleCancelAddLabel:function(){this.labelNameFormVisible=!1,this.labelNameBtnState="cancel",this.labelName=""},handleEditLabels:function(){this.labelNameFormVisible||(this.isEditLabel=!0,b=JSON.parse(o()(this.dragLabels)),this.$emit("editLabels"))},handleEditLabelName:function(e){var a=this;this.isEditLabel&&(this.dragLabels.forEach(function(e){return e._isEdit=!1}),e._isEdit=!0,e._preName=e.name,this.$nextTick(function(){return a.$refs[e._ref][0].focus()}))},handleChangeLabelNameByBlur:function(e){var a=this.$refs[e._ref][0],t=a.value.trim();if(!p){if(!t)return e.name=e._preName,void(e._isEdit=!1);if(this.dragLabels.find(function(a){return a.name===t&&a!==e}))return this.$notify.warning({message:v,showClose:!1,position:h}),a.focus()}p=!1,e.name=t,e._preName="",e._isEdit=!1,this.$emit("changeLabelName",{id:e.id,name:t})},handleChangeLabelNameByEnter:function(e){var a="",t=this.$refs[e._ref][0],n=t.value.trim();if(n||(a=m),this.dragLabels.find(function(a){return a.name===n&&a!==e})&&(a=v),a)return this.$notify.warning({message:a,showClose:!1,position:h}),t.focus();p=!0,t.blur()},handleCancelEditLabelName:function(e){e.name=e._preName,e._preName="",e._isEdit=!1},handleDeleteLabel:function(){document.body.click()},handleConfirmDeleteLabel:function(e,a){this.$emit("deleteLabel",{index:a,label:e}),document.body.click()},handleCancelDeleteLabel:function(){document.body.click()},handleCompleteEditLabels:function(){this.isEditLabel=!1;var e=!1,a=!0,t=!1,n=void 0;try{for(var r,l=s()(b.entries());!(a=(r=l.next()).done);a=!0){var o=r.value,c=i()(o,2),u=c[0],d=c[1],f=d.id,p=d.name,h=this.dragLabels[u];if(!h||f!==h.id||p!==h.name){e=!0;break}}}catch(e){t=!0,n=e}finally{try{!a&&l.return&&l.return()}finally{if(t)throw n}}if(e){var m=this.dragLabels.map(function(e){return{id:e.id,name:e.name,repos:e.repos}});this.$emit("completeEditLabels",m)}}}}},f5oR:function(e,a){},j3Z2:function(e,a){},lRwf:function(e,a){e.exports=Vue},lZ5c:function(e,a,t){"use strict";function n(e){t("W05C"),t("CSqb")}var s=t("f3NK"),r=t("wp0G"),i=t("VU/8"),l=n,o=i(s.a,r.a,!1,l,"data-v-00672b45",null);a.a=o.exports},n5Qe:function(e,a,t){"use strict";t.d(a,"b",function(){return _}),t.d(a,"h",function(){return L}),t.d(a,"a",function(){return C}),t.d(a,"c",function(){return w}),t.d(a,"g",function(){return y}),t.d(a,"f",function(){return N}),t.d(a,"e",function(){return x}),t.d(a,"d",function(){return R}),t.d(a,"i",function(){return k});var n=t("bOdI"),s=t.n(n),r=t("mvHQ"),i=t.n(r),l=t("/I4U"),o=(t.n(l),t("+BTi")),c=(t.n(o),t("yg6k")),u=t.n(c),d=t("//Fk"),f=t.n(d),p=t("OMN4"),b=t.n(p),h=t("QmSG");b.a.defaults.baseURL="https://api.github.com",b.a.interceptors.request.use(function(e){return e.url.includes("http")?e:(e.url+=e.url.includes("?")?"&":"?",e.url+="access_token="+window._gitstars.accessToken,e)},function(e){return f.a.reject(e)}),b.a.interceptors.response.use(function(e){return e.data},function(e){var a=e.message,t=e.response,n=void 0===t?{}:t,s=n.status,r=n.statusText,i=n.data;return i&&(a=i.message),u.a.error({message:a,title:s+" "+r,showClose:!1}),f.a.reject(e)});var m=h.a.filename,v=h.a.description,g=h.a.starredReposPerPage,_=function(e){return b.a.post("https://gh-oauth.imsun.net",e)},L=function(){return b.a.get("/user")},C=function(e){return b.a.post("/gists",{description:v,public:!0,files:s()({},m,{content:i()(e)})})},w=function(e){return b.a.get("/gists/"+e)},y=function(){return b.a.get("/users/"+window._gitstars.user.login+"/gists")},N=function(e){var a={page:e,per_page:g};return b.a.get("/users/"+window._gitstars.user.login+"/starred",{params:a})},x=function(e,a){return b.a.get("/repos/"+e+"/"+a+"/readme")},R=function(e){return b()({data:e,url:"/markdown/raw",method:"post",headers:{"Content-Type":"text/plain"}})},k=function(e,a){return b.a.patch("/gists/"+e,{files:s()({},m,{content:i()(a)})})}},oiih:function(e,a,t){"use strict";a.a={LABEL_NAME_CANNOT_ENPTY:"标签名称不能为空",LABEL_NAME_ALREADY_EXIST:"已存在此标签",UPDATE_SUCCESS:"更新成功",UPDATE_FAILED:"更新失败"}},qASp:function(e,a,t){e.exports=t.p+"assets/img/app-name.50561f6.png"},rQBB:function(e,a,t){"use strict";t.d(a,"a",function(){return r});var n=t("BO1k"),s=t.n(n),r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.search,a={};if(!e.length)return a;"?"===e[0]&&(e=e.slice(1));var t=e.split("&"),n=!0,r=!1,i=void 0;try{for(var l,o=s()(t);!(n=(l=o.next()).done);n=!0){var c=l.value,u=c.split("=");a[u[0]]=decodeURIComponent(u[1])}}catch(e){r=!0,i=e}finally{try{!n&&o.return&&o.return()}finally{if(r)throw i}}return a}},"s6+2":function(e,a,t){"use strict";function n(e){t("6e7o"),t("0Eq7")}var s=t("Uhku"),r=t("Rtfp"),i=t("VU/8"),l=n,o=i(s.a,r.a,!1,l,"data-v-518cf6d8",null);a.a=o.exports},tJtB:function(e,a){},teIl:function(e,a,t){"use strict";function n(e){t("f5oR")}var s=t("HCTz"),r=t("wWb+"),i=t("VU/8"),l=n,o=i(s.a,r.a,!1,l,"data-v-c476ba7a",null);a.a=o.exports},vp76:function(e,a){},wJKS:function(e,a){},"wWb+":function(e,a,t){"use strict";var n=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("header",{attrs:{id:"header"}},[t("a",{attrs:{href:e.user.html_url,target:"_blank"}},[t("img",{staticClass:"user-avatar",attrs:{src:e.user.avatar_url}})]),e._v(" "),t("h1",{staticClass:"user-name"},[t("a",{attrs:{href:e.user.html_url+"?tab=repositories",target:"_blank"}},[e._v(e._s(e.user.name)+"’s Starred Repositories")])]),e._v(" "),t("a",{attrs:{href:"https://github.com/Monine/gitstars",target:"_blank"}},[t("svg",{staticClass:"octocat",attrs:{width:"60",height:"60",viewBox:"0 0 250 250","aria-hidden":"true"}},[t("path",{attrs:{d:"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"}}),e._v(" "),t("path",{staticClass:"octocat-arm",attrs:{d:"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2",fill:"currentColor"}}),e._v(" "),t("path",{attrs:{d:"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z",fill:"currentColor"}})])])])},s=[],r={render:n,staticRenderFns:s};a.a=r},wp0G:function(e,a,t){"use strict";var n=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("section",{attrs:{id:"sidebar"}},[e._m(0,!1,!1),e._v(" "),t("ul",{staticClass:"nav-label"},e._l(e.defaultLabels,function(a){return t("li",{key:a.id,staticClass:"nav-item",class:{active:a.id===e.currentLabel.id},on:{click:function(t){e.handleToggleLabel(a)}}},[t("label",{staticClass:"nav-item__label"},[t("i",{staticClass:"fa fa-fw",class:a.icon,attrs:{"aria-hidden":"true"}}),e._v(" "),t("span",[e._v(e._s(a.name))])]),e._v(" "),t("span",{staticClass:"nav-item-badge"},[e._v(e._s(a.id?e.unlabeledReposLen:e.starredReposLen))])])})),e._v(" "),t("div",{staticClass:"label-nav"},[t("header",{staticClass:"nav-caption"},[e._m(1,!1,!1),e._v(" "),t("transition",{attrs:{name:"slide-to-left"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:0===e.labelCategoryIndex,expression:"labelCategoryIndex === 0"}],staticClass:"nav-caption__operate"},[t("div",{staticClass:"nav-caption__operate-btn",class:{disabled:e.isEditLabel||e.labelNameFormVisible},on:{click:e.handleAddNewLabel}},[t("i",{staticClass:"fa fa-plus-square",attrs:{"aria-hidden":"true"}}),e._v(" "),t("span",[e._v("添加")])]),e._v(" "),t("transition-group",{staticClass:"nav-caption__group--edit-over",attrs:{name:"enlarge",tag:"div"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.isEditLabel,expression:"isEditLabel"}],key:"over",staticClass:"nav-caption__operate-btn nav-caption__complete-btn",on:{click:e.handleCompleteEditLabels}},[e._v("\n              完成\n            ")]),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:!e.isEditLabel,expression:"!isEditLabel"}],key:"edit",staticClass:"nav-caption__operate-btn",class:{disabled:e.labelNameFormVisible},on:{click:e.handleEditLabels}},[t("i",{staticClass:"fa fa-cog",attrs:{"aria-hidden":"true"}}),e._v(" "),t("span",[e._v("编辑")])])])],1)])],1),e._v(" "),t("transition",{attrs:{name:"slide-down"}},[t("form",{directives:[{name:"show",rawName:"v-show",value:e.labelNameFormVisible,expression:"labelNameFormVisible"}],staticClass:"label-form",attrs:{onsubmit:"return false"}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.labelName,expression:"labelName"}],ref:"labelFormNameInput",staticClass:"label-form__input--name",class:e.labelNameInputState,attrs:{type:"text",placeholder:"标签名称"},domProps:{value:e.labelName},on:{input:[function(a){a.target.composing||(e.labelName=a.target.value)},e.handleInputLabelName],focus:e.handleFocusLabelName,blur:e.handleBlurLabelName,keyup:[function(a){if(!("button"in a)&&e._k(a.keyCode,"enter",13,a.key))return null;a.preventDefault(),e.handleAddLabel(a)},function(a){if(!("button"in a)&&e._k(a.keyCode,"esc",27,a.key))return null;e.handleCancelAddLabel(a)}]}}),e._v(" "),t("div",{staticClass:"label-form__operate",class:e.labelNameBtnState},[t("button",{staticClass:"label-form__operate-btn save",attrs:{type:"button"},on:{click:e.handleAddLabel}},[e._v("SAVE")]),e._v(" "),t("button",{staticClass:"label-form__operate-btn cancel",attrs:{type:"button"},on:{click:e.handleCancelAddLabel}},[e._v("CANCEL")])])])]),e._v(" "),t("transition",{attrs:{name:"slide-down"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.isEditLabel,expression:"isEditLabel"}],staticClass:"edit-label-tip"},[e._v("双击标签修改名称，拖拽标签排列顺序")])]),e._v(" "),t("div",{staticClass:"label-list__group"},[t("transition",{attrs:{name:"slide-to-left"}},[t("draggable",{directives:[{name:"show",rawName:"v-show",value:0===e.labelCategoryIndex,expression:"labelCategoryIndex === 0"}],staticClass:"draggable-labels",class:{edit:e.isEditLabel},attrs:{list:e.dragLabels,options:e.dragOptions}},[t("transition-group",{staticClass:"nav-label label-list",attrs:{name:"label-list",tag:"ul"}},e._l(e.dragLabels,function(a,n){return t("li",{key:a.id,staticClass:"nav-item",class:{active:a.id===e.currentLabel.id},on:{click:function(t){e.handleToggleLabel(a)}}},[t("div",{staticClass:"nav-item__label slo",on:{dblclick:function(t){e.handleEditLabelName(a)}}},[t("i",{staticClass:"fa fa-fw fa-tag",attrs:{"aria-hidden":"true"}}),e._v(" "),t("span",{directives:[{name:"show",rawName:"v-show",value:!a._isEdit,expression:"!label._isEdit"}],staticClass:"nav-item__name slo"},[e._v(e._s(a.name))]),e._v(" "),t("input",{directives:[{name:"show",rawName:"v-show",value:a._isEdit,expression:"label._isEdit"}],ref:a._ref,refInFor:!0,staticClass:"nav-item__input--name",attrs:{type:"text"},domProps:{value:a.name},on:{blur:function(t){e.handleChangeLabelNameByBlur(a)},keyup:[function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.handleChangeLabelNameByEnter(a)},function(t){if(!("button"in t)&&e._k(t.keyCode,"esc",27,t.key))return null;e.handleCancelEditLabelName(a)}]}})]),e._v(" "),t("el-popover",{attrs:{placement:"right",title:"Are you sure?"}},[t("i",{directives:[{name:"show",rawName:"v-show",value:e.isEditLabel,expression:"isEditLabel"}],staticClass:"fa fa-times-circle",attrs:{slot:"reference","aria-hidden":"true"},on:{click:function(a){a.stopPropagation(),e.handleDeleteLabel(a)}},slot:"reference"}),e._v(" "),t("footer",{staticClass:"popover-footer"},[t("el-button",{attrs:{size:"mini"},on:{click:e.handleCancelDeleteLabel}},[e._v("No")]),e._v(" "),t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){e.handleConfirmDeleteLabel(a,n)}}},[e._v("Yes")])],1)]),e._v(" "),t("span",{directives:[{name:"show",rawName:"v-show",value:!e.isEditLabel,expression:"!isEditLabel"}],staticClass:"nav-item-badge"},[e._v(e._s(a.repos.length))])],1)}))],1)],1),e._v(" "),t("transition",{attrs:{name:"slide-to-right"}},[t("ul",{directives:[{name:"show",rawName:"v-show",value:1===e.labelCategoryIndex,expression:"labelCategoryIndex === 1"}],staticClass:"nav-label label-list"},e._l(e.languageLabels,function(a){return t("li",{key:a.id,staticClass:"nav-item",class:{active:a.id===e.currentLabel.id},on:{click:function(t){e.handleToggleLabel(a)}}},[t("label",{staticClass:"nav-item__label slo"},[t("i",{staticClass:"fa fa-fw fa-tag",attrs:{"aria-hidden":"true"}}),e._v(" "),t("span",{staticClass:"nav-item__name slo"},[e._v(e._s(a.name))])]),e._v(" "),t("span",{directives:[{name:"show",rawName:"v-show",value:!e.isEditLabel,expression:"!isEditLabel"}],staticClass:"nav-item-badge"},[e._v(e._s(a.repos.length))])])}))])],1),e._v(" "),t("transition",{attrs:{name:"telescopic"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:!e.customLabels.length&&0===e.labelCategoryIndex,expression:"!customLabels.length && labelCategoryIndex === 0"}],staticClass:"no-label vc-p"},[t("i",{staticClass:"fa fa-hand-o-up fa-2x",attrs:{"aria-hidden":"true"}}),e._v(" "),t("p",[e._v("添加标签")])])])],1),e._v(" "),t("transition",{attrs:{name:"slide-up"}},[t("ul",{directives:[{name:"show",rawName:"v-show",value:!e.isEditLabel&&!e.labelNameFormVisible,expression:"!isEditLabel && !labelNameFormVisible"}],staticClass:"label-category"},[t("li",{staticClass:"label-category__slider",style:e.categoryLabelSliderStyle}),e._v(" "),e._l(e.labelCategorys,function(a,n){return t("li",{key:a,staticClass:"label-category__item",class:{active:n===e.labelCategoryIndex},on:{click:function(a){e.$emit("toggleLabelCategory",{index:n})}}},[e._v("\n        "+e._s(a)+"\n      ")])})],2)]),e._v(" "),e._m(2,!1,!1)],1)},s=[function(){var e=this,a=e.$createElement,n=e._self._c||a;return n("header",[n("h1",{staticStyle:{display:"none"}},[e._v("Github Stars Manager")]),e._v(" "),n("a",{attrs:{href:"https://github.com/Monine/gitstars",target:"_blank"}},[n("img",{staticClass:"app-name-img",attrs:{src:t("qASp"),alt:"app name"}})])])},function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("h3",{staticClass:"nav-caption__title"},[t("i",{staticClass:"fa fa-fw fa-tags",attrs:{"aria-hidden":"true"}}),e._v(" "),t("span",[e._v("标签")])])},function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("footer",{staticClass:"sidebar-footer"},[t("span",[e._v("Author : ")]),e._v(" "),t("h1",{staticClass:"author"},[t("a",{staticClass:"author-name",attrs:{href:"https://github.com/Monine",target:"_blank"}},[e._v("Monine")])])])}],r={render:n,staticRenderFns:s};a.a=r},xJD8:function(e,a,t){"use strict";var n=t("BO1k"),s=t.n(n),r=t("lHA8"),i=t.n(r),l=t("mvHQ"),o=t.n(l),c=t("Xxa5"),u=t.n(c),d=t("Gu7T"),f=t.n(d),p=t("exGp"),b=t.n(p),h=t("//Fk"),m=t.n(h),v=t("OMN4"),g=t.n(v),_=t("lZ5c"),L=t("s6+2"),C=t("QmSG"),w=t("oiih"),y=t("n5Qe"),N="",x=[],R=!0,k=!1,E=[],S=C.a.filename,I=C.a.norifyPosition,A=C.a.starredReposPerPage,T=w.a.UPDATE_SUCCESS,D=w.a.UPDATE_FAILED,$=function(){var e=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return new m.a(function(){var t=b()(u.a.mark(function t(n,s){var r;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=[];case 1:return t.next=3,Object(y.f)(a++);case 3:r=t.sent,r.forEach(function(e){return e._labels={custom:[],language:[]}}),e.starredRepos=[].concat(f()(e.starredRepos),f()(r));case 6:if(r.length===A){t.next=1;break}case 7:e.loadStarredReposCompleted=!0,n(e.starredRepos);case 9:case"end":return t.stop()}},t,e)}));return function(e,a){return t.apply(this,arguments)}}())},O=function(){function e(e){return a.apply(this,arguments)}var a=b()(u.a.mark(function e(a){var t,n,s=a.message,r=a.content;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.$notify.info({iconClass:"fa fa-cog fa-spin fa-fw",message:"正在更新，请稍后...",duration:0,showClose:!1,position:I}),r||(r={lastModified:Date.now(),labels:this.customLabels}),e.next=4,Object(y.i)(N,r);case 4:return n=e.sent,window.localStorage.setItem(N,o()(r)),t.close(),s&&this.$notify.success({message:s,showClose:!1,position:I}),e.abrupt("return",n);case 9:case"end":return e.stop()}},e,this)}));return e}();a.a={name:"app",components:{LayoutSidebar:_.a,LayoutMain:L.a},data:function(){return{user:window._gitstars.user,isNewUser:!1,starredRepos:[],loadStarredReposCompleted:!1,customLabels:[],languageLabels:[],currentLabel:{},labelCategoryIndex:0}},computed:{unlabeledRepos:function(){var e=new i.a(this.customLabels.reduce(function(e,a){var t=a.repos,n=void 0===t?[]:t;return[].concat(f()(e),f()(n))},[]));return this.starredRepos.filter(function(a){return!e.has(a.id)})},currentLabelRepos:function(){var e=this.currentLabel.id;if(0===e)return this.starredRepos;if(-1===e)return this.unlabeledRepos;var a=0===this.labelCategoryIndex?this.customLabels:this.languageLabels,t=a.find(function(a){return a.id===e})||{},n=t.repos;return n?this.starredRepos.filter(function(e){return n.includes(e.id)}):E}},created:function(){var e=this;N=window.localStorage.getItem("gitstars_gist_id");var a={};new m.a(function(){var t=b()(u.a.mark(function t(n,r){var i,l;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!N){t.next=17;break}if(!(a=window.localStorage.getItem(N))){t.next=6;break}R=!1,t.next=11;break;case 6:return t.next=8,Object(y.c)(N);case 8:i=t.sent,l=i.files,a=l[S].content;case 11:return a=JSON.parse(a),Array.isArray(a)&&(k=!0,a={lastModified:Date.now(),labels:a}),t.next=15,$.call(e);case 15:t.next=19;break;case 17:return t.next=19,g.a.spread(b()(u.a.mark(function t(){var n,r,i,l,o,c,d,p,b,h,m,v,_;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=[],t.t1=f.a,t.next=4,g.a.all([$.call(e),Object(y.g)()]);case 4:t.t2=t.sent,t.t3=(0,t.t1)(t.t2),n=t.t0.concat.call(t.t0,t.t3),r=n[1],i=!0,l=!1,o=void 0,t.prev=11,c=s()(r);case 13:if(i=(d=c.next()).done){t.next=26;break}if(p=d.value,b=p.id,h=p.description,m=p.files,h!==C.a.description){t.next=23;break}return N=b,t.next=20,g.a.get(m[S].raw_url);case 20:return a=t.sent,Array.isArray(a)&&(k=!0,a={lastModified:Date.now(),labels:a}),t.abrupt("break",26);case 23:i=!0,t.next=13;break;case 26:t.next=32;break;case 28:t.prev=28,t.t4=t.catch(11),l=!0,o=t.t4;case 32:t.prev=32,t.prev=33,!i&&c.return&&c.return();case 35:if(t.prev=35,!l){t.next=38;break}throw o;case 38:return t.finish(35);case 39:return t.finish(32);case 40:if(N){t.next=48;break}return a={labels:[],lastModified:Date.now()},t.next=44,Object(y.a)(a);case 44:v=t.sent,_=v.id,N=_,e.isNewUser=!0;case 48:window.localStorage.setItem("gitstars_gist_id",N);case 49:case"end":return t.stop()}},t,e,[[11,28,32,40],[33,,35,39]])})))();case 19:n(a);case 20:case"end":return t.stop()}},t,e)}));return function(e,a){return t.apply(this,arguments)}}()).then(function(){var a=b()(u.a.mark(function a(t){var n,s,r,i,l,c,d,p,b,h;return u.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(n=t.labels,0===n.length&&(e.labelCategoryIndex=1),s=!1,r=Date.now(),i=e.languageLabels,l=e.starredRepos,c=e.isNewUser,l.forEach(function(e){var a=e.id,t=e.language,n=e._labels;if(t){var s=n.language,l=i.find(function(e){return e.name===t});l?(l.repos.push(a),s.push({id:l.id,name:l.name})):(i.push({id:r,name:t,repos:[a]}),s.push({id:r,name:t}),r+=1)}}),n.forEach(function(e){var a=[].concat(f()(e.repos));e.repos.forEach(function(t,n){var r=l.find(function(e){return e.id===t})||{},i=r._labels;i?i.custom.push({id:e.id,name:e.name}):(s=!0,delete a[n])}),e.repos=a.filter(function(e){return e})}),e.customLabels=n,window.localStorage.setItem(N,o()(t)),(k&&R||s||c)&&O.call(e,{content:t,message:T}).catch(function(){e.$notify.warning({message:D,showClose:!1,position:I})}),!R&&!c){a.next=12;break}return a.abrupt("return");case 12:return a.next=14,Object(y.c)(N);case 14:if(d=a.sent,p=d.files,b=JSON.parse(p[S].content),h=!1,Array.isArray(b)&&(h=!0,b={lastModified:Date.now(),labels:b}),!(b.lastModified<=t.lastModified)||k){a.next=21;break}return a.abrupt("return");case 21:h?O.call(e,{message:T,content:b}).catch(function(){e.$notify.warning({message:D,showClose:!1,position:I})}):window.localStorage.setItem(N,o()(b)),e.customLabels=b.labels;case 23:case"end":return a.stop()}},a,e)}));return function(e){return a.apply(this,arguments)}}())},destroyed:function(){N="",x=[],R=!0,k=!1,E=[]},methods:{handleToggleLabel:function(e){var a=e.label,t=e.index,n=void 0===t?this.labelCategoryIndex:t;this.currentLabel=a,this.labelCategoryIndex=n},handleSaveNewLabel:function(e){var a=this;this.customLabels.push({name:e,id:Date.now(),repos:[]}),O.call(this,{message:"添加 "+e+" 标签"}).catch(function(){return a.customLabels.pop()})},handleEditLabels:function(){x=JSON.parse(o()(this.starredRepos))},handleDeleteLabel:function(e){var a=e.index,t=e.label;this.customLabels.splice(a,1),this.starredRepos.forEach(function(e){var a=e._labels,n=a.custom,s=n.findIndex(function(e){return e.id===t.id});s>-1&&n.splice(s,1)})},handleChangeLabelName:function(e){var a=e.id,t=e.name;this.starredRepos.forEach(function(e){var n=e._labels,s=n.custom.find(function(e){return e.id===a});s&&(s.name=t)})},handleCompleteEditLabels:function(){var e=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this.customLabels;this.customLabels=a,O.call(this,{message:"编辑标签完成"}).catch(function(){e.customLabels=t,e.starredRepos=x})},handleAddRepoLabel:function(e){var a=this,t=e.id,n=e.name,s={},r=this.customLabels.find(function(e){return e.name===n})||{},i=r.repos;i?(s=r,i.push(t)):(s={name:n,id:Date.now(),repos:[t]},this.customLabels.push(s));var l=this.starredRepos.find(function(e){return e.id===t}),o=s,c=o.name,u=l._labels.custom;u.push({id:s.id,name:c}),O.call(this,{message:l.owner.login+" / "+l.name+" 仓库添加 "+c+" 标签"}).catch(function(){i?i.pop():a.customLabels.pop(),u.pop()})},handleDeleteRepoLabel:function(e){var a=e.repoId,t=e.labelId,n=this.currentLabelRepos.find(function(e){return e.id===a})||{},s=n._labels.custom,r=s.findIndex(function(e){return e.id===t}),i=s.splice(r,1)[0],l=this.customLabels.find(function(e){return e.id===t})||{},o=l.repos,c=o.findIndex(function(e){return e===a});o.splice(c,1),O.call(this,{message:n.owner.login+" / "+n.name+" 仓库删除 "+i.name+" 标签"}).catch(function(){s.splice(r,0,i),o.splice(c,0,a)})},handleToggleLabelCategory:function(e){var a=e.index;E=this.currentLabelRepos,this.labelCategoryIndex=a}}}}},["NHnr"]);
//# sourceMappingURL=app.88be39911dd3f480f75f.js.map